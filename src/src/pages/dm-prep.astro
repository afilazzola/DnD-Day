---
import BaseLayout from "../layouts/BaseLayout.astro";
---

<BaseLayout
  title="DM Preparation"
  description="Guidelines for Dungeon Masters running Operation Golden Sword"
>
  <!-- Header -->
  <section class="py-16 bg-dnd-bg-secondary">
    <div class="container-custom text-center">
      <p class="section-title">For Dungeon Masters</p>
      <h1 class="text-4xl md:text-5xl font-display mb-4">
        <span class="gold-gradient">DM Preparation</span>
      </h1>
      <p class="text-dnd-text-muted text-lg max-w-2xl mx-auto">
        You have creative freedom to craft your theater's story. Here's what you
        need to know.
      </p>
    </div>
  </section>

  <!-- Core Philosophy -->
  <section class="py-16">
    <div class="container-custom">
      <div class="max-w-3xl mx-auto">
        <h2 class="text-2xl font-display text-dnd-primary mb-6">Your Role</h2>

        <div class="space-y-4 text-dnd-text-muted leading-relaxed">
          <p>
            As a DM for Operation Golden Sword, you're commanding one theater of
            a larger battle. Your table's successes and failures will ripple
            across the entire event.
          </p>
          <p>
            <strong class="text-dnd-text"
              >You have complete creative freedom</strong
            > over how your theater plays out. Design your own encounters, NPCs, and
            dramatic moments. The only requirement is that your session drives toward
            your theater's objectives.
          </p>
        </div>

        <div class="card mt-8 border-dnd-primary">
          <p class="text-dnd-primary font-display text-lg mb-2">
            The Golden Rule
          </p>
          <p class="text-dnd-text-muted">
            Hit your objectives and have fun. Everything else is yours to
            create.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Campaign Setting -->
  <section class="py-16 bg-dnd-bg-secondary">
    <div class="container-custom">
      <div class="max-w-3xl mx-auto">
        <h2 class="text-2xl font-display text-dnd-primary mb-6">
          Campaign Setting
        </h2>

        <div class="grid md:grid-cols-2 gap-6 mb-8">
          <div class="card">
            <h3 class="font-display text-dnd-text mb-2">Setting</h3>
            <p class="text-dnd-text-muted text-sm">
              Forgotten Realms, Sword Coast, late 1480s to mid-1490s DR. The entire kingdom
              of Amn has been captured, though pockets of resistance remain.
            </p>
          </div>

          <div class="card">
            <h3 class="font-display text-dnd-text mb-2">Player Characters</h3>
            <p class="text-dnd-text-muted text-sm">
              Level 7 characters using official 5e content including Unearthed Arcana,
              Eberron, and Tasha's Cauldron of Everything. Point buy is preferred.
            </p>
          </div>
        </div>

        <div class="card border-dnd-accent">
          <h3 class="font-display text-dnd-accent mb-2">Your Authority</h3>
          <p class="text-dnd-text-muted text-sm">
            You guide players through shared objectives and decide what can happen,
            what enemies they face, and whether they succeed. You have free license
            to introduce whatever challenges you see fit against the adventurers.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Theater Objectives -->
  <section class="py-16">
    <div class="container-custom">
      <div class="max-w-3xl mx-auto">
        <h2 class="text-2xl font-display text-dnd-primary mb-6">
          Theater Objectives
        </h2>

        <p class="text-dnd-text-muted mb-8">
          Each theater has objectives across two acts. Act II is the initial landing;
          Act III is the convergence on the Pegasus Bridge. Report outcomes at each
          checkpoint—they affect other tables.
        </p>

        <div class="space-y-8">
          <!-- Theater 1 -->
          <div class="card border-l-4 border-theater-assault">
            <h3 class="font-display text-dnd-text mb-4">
              Theater 1 — Gold Beach (General Assault)
            </h3>
            <div class="grid md:grid-cols-2 gap-4">
              <div>
                <p class="text-dnd-primary text-xs uppercase tracking-wider mb-2">Act II — Storm the Beach</p>
                <ul class="text-dnd-text-muted text-sm space-y-1">
                  <li>• Break shoreline defenses</li>
                  <li>• Draw enemy attention from Siege Train</li>
                  <li>• Reach the road toward the Orn River</li>
                </ul>
              </div>
              <div>
                <p class="text-dnd-accent text-xs uppercase tracking-wider mb-2">Act III — Break the Line</p>
                <ul class="text-dnd-text-muted text-sm space-y-1">
                  <li>• Breach fortified positions inland</li>
                  <li>• Clear the road for the Siege Train</li>
                  <li>• Link up at the bridge</li>
                </ul>
              </div>
            </div>
          </div>

          <!-- Theater 2 -->
          <div class="card border-l-4 border-theater-siege">
            <h3 class="font-display text-dnd-text mb-4">
              Theater 2 — Juno Beach (Siege Train)
            </h3>
            <div class="grid md:grid-cols-2 gap-4">
              <div>
                <p class="text-dnd-primary text-xs uppercase tracking-wider mb-2">Act II — Land the Engines</p>
                <ul class="text-dnd-text-muted text-sm space-y-1">
                  <li>• Land catapults and trebuchets</li>
                  <li>• Protect from enemy fire</li>
                  <li>• Begin moving inland</li>
                </ul>
              </div>
              <div>
                <p class="text-dnd-accent text-xs uppercase tracking-wider mb-2">Act III — Climb the Bluffs</p>
                <ul class="text-dnd-text-muted text-sm space-y-1">
                  <li>• Haul engines up sandy terrain</li>
                  <li>• Get creative (winches, magic, brute force)</li>
                  <li>• Cross the bridge to the Keep</li>
                </ul>
              </div>
            </div>
          </div>

          <!-- Theater 3 -->
          <div class="card border-l-4 border-theater-portals">
            <h3 class="font-display text-dnd-text mb-4">
              Theater 3 — Watch Tower (Portals & Bridges)
            </h3>
            <div class="grid md:grid-cols-2 gap-4">
              <div>
                <p class="text-dnd-primary text-xs uppercase tracking-wider mb-2">Act II — Secure Landing Zone</p>
                <ul class="text-dnd-text-muted text-sm space-y-1">
                  <li>• Emerge from portal at watchtower</li>
                  <li>• Eliminate patrols quietly</li>
                  <li>• Move toward the bridge</li>
                </ul>
              </div>
              <div>
                <p class="text-dnd-accent text-xs uppercase tracking-wider mb-2">Act III — Disarm the Bridge</p>
                <ul class="text-dnd-text-muted text-sm space-y-1">
                  <li>• Assault demolition platoon</li>
                  <li>• Disarm explosive charges</li>
                  <li>• Hold until reinforced</li>
                </ul>
              </div>
            </div>
          </div>

          <!-- Theater 4 -->
          <div class="card border-l-4 border-theater-air">
            <h3 class="font-display text-dnd-text mb-4">
              Theater 4 — Contested Airspace (Sky Control)
            </h3>
            <div class="grid md:grid-cols-2 gap-4">
              <div>
                <p class="text-dnd-primary text-xs uppercase tracking-wider mb-2">Act II — Win the Sky</p>
                <ul class="text-dnd-text-muted text-sm space-y-1">
                  <li>• Achieve air superiority</li>
                  <li>• Intercept wyverns and gyrocopters</li>
                  <li>• Protect ground forces</li>
                </ul>
              </div>
              <div>
                <p class="text-dnd-accent text-xs uppercase tracking-wider mb-2">Act III — Block the Road</p>
                <ul class="text-dnd-text-muted text-sm space-y-1">
                  <li>• Land beyond the bridge</li>
                  <li>• Block Keep reinforcements</li>
                  <li>• Hold until beach forces arrive</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Preparation Tips -->
  <section class="py-16 bg-dnd-bg-secondary">
    <div class="container-custom">
      <div class="max-w-3xl mx-auto">
        <h2 class="text-2xl font-display text-dnd-primary mb-6">
          Preparation Guidelines
        </h2>

        <div class="grid md:grid-cols-2 gap-6">
          <div class="card">
            <h3 class="font-display text-dnd-text mb-3">Encounters</h3>
            <p class="text-dnd-text-muted text-sm">
              Design 3-4 combat encounters scaled for level 7 characters.
              Include at least one setpiece battle that feels cinematic and
              high-stakes.
            </p>
          </div>

          <div class="card">
            <h3 class="font-display text-dnd-text mb-3">Pacing</h3>
            <p class="text-dnd-text-muted text-sm">
              Plan for the session length. Build in flexibility—if players are
              ahead, add complications. If behind, let them find shortcuts.
            </p>
          </div>

          <div class="card">
            <h3 class="font-display text-dnd-text mb-3">NPCs</h3>
            <p class="text-dnd-text-muted text-sm">
              Create a few memorable allied NPCs and enemy commanders. Give
              players someone to root for—and someone to hate.
            </p>
          </div>

          <div class="card">
            <h3 class="font-display text-dnd-text mb-3">Consequences</h3>
            <p class="text-dnd-text-muted text-sm">
              Make success feel earned and failure feel meaningful. The stakes
              are real— communicate that through the narrative.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Coordination -->
  <section class="py-16">
    <div class="container-custom">
      <div class="max-w-3xl mx-auto">
        <h2 class="text-2xl font-display text-dnd-primary mb-6">
          Cross-Table Coordination
        </h2>

        <div class="space-y-4 text-dnd-text-muted leading-relaxed">
          <p>
            At key moments during the event, we'll pause to share outcomes
            between tables. Your theater's results will be announced, and you'll
            learn how other theaters are faring.
          </p>
          <p>
            <strong class="text-dnd-text"
              >Use this information narratively.</strong
            > If the Air Battle is failing, describe wyverns strafing your positions.
            If the General Assault succeeds, mention enemy forces being pulled away.
          </p>
        </div>

        <div class="card mt-8">
          <h3 class="font-display text-dnd-text mb-3">What to Report</h3>
          <ul class="text-dnd-text-muted space-y-2">
            <li class="flex items-start gap-2">
              <span class="text-dnd-primary">•</span>
              <span>Primary objective status (success/failure/partial)</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-dnd-primary">•</span>
              <span>Any secondary objectives completed</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-dnd-primary">•</span>
              <span>Notable moments worth sharing with other tables</span>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- Resources -->
  <section class="py-16 bg-dnd-bg-secondary">
    <div class="container-custom">
      <div class="max-w-3xl mx-auto">
        <h2 class="text-2xl font-display text-dnd-primary mb-6">Resources</h2>

        <div class="space-y-6">
          <div>
            <p class="text-dnd-text-muted mb-4">
              Review these pages for campaign context and enemy details:
            </p>
            <div class="flex flex-wrap gap-4">
              <a href="/story" class="btn btn-secondary">Campaign Story</a>
              <a href="/briefing" class="btn btn-secondary">Mission Briefing</a>
              <a href="/enemies" class="btn btn-secondary">Enemy Guide</a>
              <a href="/theaters" class="btn btn-secondary">Theater Details</a>
            </div>
          </div>

          <div>
            <p class="text-dnd-text-muted mb-4">
              External tools for encounter building and reference:
            </p>
            <div class="flex flex-wrap gap-4">
              <a href="https://www.dndbeyond.com" target="_blank" rel="noopener" class="btn btn-secondary">D&D Beyond</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>
